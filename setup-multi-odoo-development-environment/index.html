<!doctype html><html lang=id><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Ketika mengembangkan module untuk odoo, ada saatnya untuk berganti versi odoo seperti ketika proses migrasi module dari odoo 11 ke odoo 15. Artikel ini berisi konfigurasi untuk mengembangkan odoo dengan versi berbeda. "><link rel=canonical href=https://akhmad.id/setup-multi-odoo-development-environment/><title>Setup Multi Odoo Development Environment | Akhmad</title><link rel=stylesheet type=text/css href=https://akhmad.id/assets/css/tailwind.css><link rel=stylesheet type=text/css href="https://fonts.googleapis.com/css?family=Fira+Sans:400,700&display=swap"><link rel=stylesheet type=text/css href="https://fonts.googleapis.com/css?family=Fira+Code:400,700&display=swap"><link rel=icon type=image/ico href=https://akhmad.id/assets/favicon.ico><meta property="og:title" content="Setup Multi Odoo Development Environment"><meta property="og:description" content="Ketika mengembangkan module untuk odoo, ada saatnya untuk berganti versi odoo seperti ketika proses migrasi module dari odoo 11 ke odoo 15. Artikel ini berisi konfigurasi untuk mengembangkan odoo dengan versi berbeda."><meta property="og:type" content="article"><meta property="og:url" content="https://akhmad.id/setup-multi-odoo-development-environment/"><meta property="article:section" content><meta property="article:published_time" content="2022-04-24T17:21:23+07:00"><meta property="article:modified_time" content="2022-04-24T17:21:23+07:00"><meta property="og:site_name" content="Akhmad Blog"><meta name=twitter:card content="summary"><meta name=twitter:title content="Setup Multi Odoo Development Environment"><meta name=twitter:description content="Ketika mengembangkan module untuk odoo, ada saatnya untuk berganti versi odoo seperti ketika proses migrasi module dari odoo 11 ke odoo 15. Artikel ini berisi konfigurasi untuk mengembangkan odoo dengan versi berbeda."></head><body class="antialiased font-sans bg-white text-slate-900 dark:bg-slate-800 dark:text-white"><div class="relative min-h-screen"><div class=pb-10><nav id=nav__container class="mx-auto w-full px-4 md:px-6 py-2 md:py-3 flex flex-wrap items-center justify-between drop-shadow-xl bg-white dark:bg-slate-800"><div class="text-slate-800 dark:text-white mr-6"><div class="flex flex-col"><a href=https://akhmad.id/ class="font-semibold text-xl hover:text-slate-700 dark:hover:text-slate-300">Akhmad</a>
<span class="text-xs sm:text-sm">Stories, Build logs, Ideas</span></div></div><div class="flex flex-row"><div class="mx-2 hidden lg:block"><a href=https://github.com/rockavoldy target=_blank rel=noreferrer aria-label="External link to github profile"><svg class="text-slate-800 dark:text-white hover:text-slate-700 dark:hover:text-slate-300 fill-current h-6 w-6" viewBox="0 0 24 24"><path d="M12 2A10 10 0 002 12c0 4.42 2.87 8.17 6.84 9.5C9.34 21.58 9.5 21.27 9.5 21 9.5 20.77 9.5 20.14 9.5 19.31 6.73 19.91 6.14 17.97 6.14 17.97c-.46-1.16-1.11-1.47-1.11-1.47C4.12 15.88 5.1 15.9 5.1 15.9 6.1 15.97 6.63 16.93 6.63 16.93 7.5 18.45 8.97 18 9.54 17.76 9.63 17.11 9.89 16.67 10.17 16.42c-2.22-.25-4.55-1.11-4.55-4.92.0-1.11.38-2 1.03-2.71C6.55 8.54 6.2 7.5 6.75 6.15c0 0 .84-.27 2.75 1.02C10.29 6.95 11.15 6.84 12 6.84s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02C17.8 7.5 17.45 8.54 17.35 8.79 18 9.5 18.38 10.39 18.38 11.5c0 3.82-2.34 4.66-4.57 4.91C14.17 16.72 14.5 17.33 14.5 18.26c0 1.34.0 2.42.0 2.74.0.27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0012 2z"/></svg></a></div><div class="mx-2 hidden lg:block"><a href=https://twitter.com/rockavoldy target=_blank rel=noreferrer aria-label="External link to twitter profile"><svg class="text-slate-800 dark:text-white hover:text-slate-700 dark:hover:text-slate-300 fill-current h-6 w-6" viewBox="0 0 24 24"><path d="M22.46 6c-.77.35-1.6.58-2.46.69C20.88 6.16 21.56 5.32 21.88 4.31 21.05 4.81 20.13 5.16 19.16 5.36 18.37 4.5 17.26 4 16 4c-2.35.0-4.27 1.92-4.27 4.29C11.73 8.63 11.77 8.96 11.84 9.27 8.28 9.09 5.11 7.38 3 4.79c-.37.63-.58 1.37-.58 2.15.0 1.49.75 2.81 1.91 3.56C3.62 10.5 2.96 10.3 2.38 10V10.03c0 2.08 1.48 3.82 3.44 4.21C5.46 14.34 5.08 14.39 4.69 14.39 4.42 14.39 4.15 14.36 3.89 14.31c.54 1.69 2.11 2.95 4 2.98-1.46 1.16-3.31 1.84-5.33 1.84C2.22 19.13 1.88 19.11 1.54 19.07 3.44 20.29 5.7 21 8.12 21 16 21 20.33 14.46 20.33 8.79 20.33 8.6 20.33 8.42 20.32 8.23 21.16 7.63 21.88 6.87 22.46 6z"/></svg></a></div><div class="mx-1 lg:ml-8"><button id=dark_mode_toggle aria-label="Switch for Dark mode and Light mode"><svg class="text-slate-800 dark:text-white hover:text-slate-700 dark:hover:text-slate-300 fill-current h-6 w-6" id="btn_dark" viewBox="0 0 24 24"><path d="M14 2c1.82.0 3.53.5 5 1.35C16.01 5.08 14 8.3 14 12s2.01 6.92 5 8.65C17.53 21.5 15.82 22 14 22 8.48 22 4 17.52 4 12S8.48 2 14 2z"/></svg><svg class="text-slate-800 dark:text-white hover:text-slate-700 dark:hover:text-slate-300 fill-current h-6 w-6 hidden" id="btn_light" viewBox="0 0 24 24"><path d="M12 7c-2.76.0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5zM2 13h2c.55.0 1-.45 1-1s-.45-1-1-1H2c-.55.0-1 .45-1 1s.45 1 1 1zm18 0h2c.55.0 1-.45 1-1s-.45-1-1-1h-2c-.55.0-1 .45-1 1S19.45 13 20 13zM11 2v2c0 .55.45 1 1 1s1-.45 1-1V2c0-.55-.45-1-1-1s-1 .45-1 1zm0 18v2c0 .55.45 1 1 1s1-.45 1-1v-2c0-.55-.45-1-1-1S11 19.45 11 20zM5.99 4.58c-.39-.39-1.03-.39-1.41.0-.39.39-.39 1.03.0 1.41l1.06 1.06c.39.39 1.03.39 1.41.0s.39-1.03.0-1.41L5.99 4.58zM18.36 16.95c-.39-.39-1.03-.39-1.41.0-.39.39-.39 1.03.0 1.41l1.06 1.06c.39.39 1.03.39 1.41.0.39-.39.39-1.03.0-1.41l-1.06-1.06zM19.42 5.99c.39-.39.39-1.03.0-1.41-.39-.39-1.03-.39-1.41.0l-1.06 1.06c-.39.39-.39 1.03.0 1.41s1.03.39 1.41.0l1.06-1.06zM7.05 18.36c.39-.39.39-1.03.0-1.41-.39-.39-1.03-.39-1.41.0l-1.06 1.06c-.39.39-.39 1.03.0 1.41s1.03.39 1.41.0l1.06-1.06z"/></svg></button></div></div></nav><div id=content><main><header><div class="mt-6 md:mt-14 lg:mt-20"><div class="max-w-xl md:max-w-3xl xl:max-w-4xl mx-auto text-center px-6"><h1 class="text-3xl sm:text-5xl leading-tight font-sans font-bold mb-2 text-slate-800 dark:text-slate-100">Setup Multi Odoo Development Environment</h1><p class="text-slate-700 dark:text-slate-200"><time datetime=2022-04-24 class="text-slate-900 dark:text-slate-100 text-xs mb-2 uppercase">Sunday, 24 April 2022</time></p></div></div></header><article class="max-w-xl md:max-w-2xl xl:max-w-3xl mx-auto px-6 sm:px-12 pt-12"><div class=markdown><h2 id=prerequisite>Prerequisite</h2><ol><li>Dalam artikel ini saya menggunakan elementary 6.1 JÃ³lnir based on Ubuntu 20.04, jadi seharusnya 100% script yang ada di artikel ini bisa jalan tanpa kendala jika kalian menggunakan Ubuntu 20.04 dan turunannya. Untuk pengguna distro atau OS lain bisa disesuaikan.</li><li>Python3, Ubuntu 20.04 sudah shipped dengan python3.8, jadi untuk development odoo 13 sampai odoo 15, tidak ada config khusus dari python. Kecuali untuk odoo 12 kebawah, maka harus menggunakan <a href=https://launchpad.net/~deadsnakes/+archive/ubuntu/ppa>deadsnakes ppa</a>, yang mungkin akan saya buatkan artikel sendiri dikemudian hari.</li><li>Virtualenv, sudah ada juga di repo-nya ubuntu dengan nama <code>python3-virtualenv</code>. Digunakan untuk membuat setiap library dari beda instance odoo &ldquo;terisolasi&rdquo;, jadi setiap instance odoo tidak akan saling tabrakan versi library.</li><li>PostgreSQL, Odoo by default menggunakan postgresql, postgresql v12 sudah cukup untuk cover odoo 13 sampai odoo 15.</li></ol><h2 id=preparation>Preparation</h2><ol><li>Install PostgreSQL<ol><li>Update terlebih dahulu apt, lalu install<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>sudo apt update
</span></span><span style=display:flex><span>sudo apt install postgresql postgresql-client
</span></span></code></pre></div></li><li>Setelah selesai, buat user baru dengan command<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>sudo su - postgres -c <span style=color:#f1fa8c>&#34;createuser -s -d </span><span style=color:#8be9fd;font-style:italic>$USER</span><span style=color:#f1fa8c>&#34;</span>
</span></span></code></pre></div>Command diatas akan membuat user untuk postgresql sesuai dengan user yang login sekarang dengan access &ldquo;superuser&rdquo; dan accesss membuat database.</li><li>Setelah user berhasil dibuat, buat database baru. Karena postgresql butuh db yang sesuai dengan nama usernya<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>createdb <span style=color:#8be9fd;font-style:italic>$USER</span>
</span></span></code></pre></div></li><li>jika sudah, kalian bisa cek dengan command <code>psql</code>, ini akan membuka psql dengan user yang login sekarang dan db dari user. Jika tidak ada error, tahap pertama install postgresql sudah berhasil.</li></ol></li><li>Upgrade python3 dan install beberapa dependencies<ol><li>Upgrade python3 terlebih dahulu<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>sudo apt upgrade python3
</span></span></code></pre></div></li><li>Jika sudah selesai, lanjut dengan install <code>python3-dev</code>, <code>python3-virtualenv</code>, <code>git</code>, dan beberapa dependencies yang dibutuhkan odoo<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>sudo apt install python3-dev libxml2-dev libxslt1-dev libldap2-dev <span style=color:#f1fa8c>\
</span></span></span><span style=display:flex><span><span style=color:#f1fa8c></span>libsasl2-dev libtiff5-dev libjpeg8-dev libopenjp2-7-dev zlib1g-dev <span style=color:#f1fa8c>\
</span></span></span><span style=display:flex><span><span style=color:#f1fa8c></span>libfreetype6-dev liblcms2-dev libwebp-dev libharfbuzz-dev libpq-dev git
</span></span></code></pre></div></li><li>Setelahnya, bisa cek virtualenv yang terinstall dengan command<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>virtualenv --version
</span></span></code></pre></div>ATAU<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>python3 -m virtualenv --version
</span></span></code></pre></div></li></ol></li></ol><h2 id=odoo-installation>Odoo Installation</h2><p>Dependencies dan app yang dibutuhkan sudah terinstall, sekarang lanjut ke install odoo-nya, disini saya membuat 1 folder di <code>/home/akhmad/Workspaces/odoo/</code> dan <code>cd</code> ke directory ini, directory ini akan saya gunakan untuk project-project odoo.</p><ol><li>Clone odoo community seperti biasa, di artikel ini saya akan install odoo 14 community di directory <code>/home/akhmad/Workspaces/odoo/</code> dengan nama folder <code>14c</code><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>git clone https://github.com/odoo/odoo --branch 14.0 --single-branch --depth <span style=color:#bd93f9>1</span> 14c
</span></span></code></pre></div></li><li>Setelah berhasil di clone, <code>cd</code> kedalam folder <code>14c</code>, lalu konfirmasi dengan cek isi foldernya</li><li>Jika sudah, selanjutnya adalah setup virtualenv dengan command<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>virtualenv -p <span style=color:#ff79c6>$(</span>which python3<span style=color:#ff79c6>)</span> venv
</span></span></code></pre></div>command diatas akan membuat folder baru bernama <code>venv</code>, dan akan &ldquo;copy&rdquo; seluruh binary python3 dan juga beberapa script untuk aktivasi dan deaktivasi virtualenv, sehingga odoo instance ini akan terisolasi</li><li>Jika sudah selesai, bisa konfirmasi folder baru <code>venv</code> dengan command <code>ls</code> kembali</li><li>Untuk aktivasi virtualenv, kalian bisa menggunakan command<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#8be9fd;font-style:italic>source</span> /venv/bin/activate
</span></span></code></pre></div></li><li>Lalu kalian bisa konfirmasi python yang dipakai dengan command <code>which python</code> atau <code>which python3</code> (<code>python</code> saja yang biasa akan link ke python2, ketika menggunakan virtualenv, ia akan link ke python3 yang berada di folder venv)</li><li>Jika sudah, saatnya install requirements.txt nya odoo dengan command<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>pip install setuptools wheel <span style=color:#ff79c6>&amp;&amp;</span> pip install -r requirements.txt
</span></span></code></pre></div></li><li>Setelah selesai, saatnya buat folder baru terlebih dahulu dengan command<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>createdb odoo14
</span></span></code></pre></div></li><li>Dan setelah pembuatan database berhasil, kalian bisa run odoo dan initialize database-nya dengan command<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>python odoo-bin --addons-path odoo/addons,addons -r <span style=color:#8be9fd;font-style:italic>$USER</span> -d odoo14 -i base
</span></span></code></pre></div></li><li>Voila, odoo berhasil terinstall dan listen di <code>http://localhost:8069</code>. Jika akan keluar (atau pindah) virtualenv, kalian bisa gunakan command <code>deactivate</code>, lalu activate lagi seperti poin no. 5</li></ol><p>Untuk install versi odoo lainnya, kalian bisa <code>deactivate</code> dulu virtualenv-nya, lalu kembali ke poin no. 1 dengan perbedaan repository yang kalian clone sesuai dengan branch versi-nya. Dan jangan lupa, berbeda versi odoo maka database juga harus beda.</p></div></article></main><br><br></div></div><script>const svgDark=document.getElementById("btn_dark"),svgLight=document.getElementById("btn_light"),btnDarkMode=document.getElementById("dark_mode_toggle");localStorage.theme==="dark"||!("theme"in localStorage)&&window.matchMedia("(prefers-color-scheme: dark)").matches?(document.documentElement.classList.add("dark"),svgDark.classList.add("hidden"),svgLight.classList.remove("hidden"),localStorage.theme="dark"):(document.documentElement.classList.remove("dark"),svgLight.classList.add("hidden"),svgDark.classList.remove("hidden"),localStorage.theme="light"),btnDarkMode.onclick=function(){localStorage.theme==="dark"?(document.documentElement.classList.remove("dark"),svgLight.classList.add("hidden"),svgDark.classList.remove("hidden"),localStorage.theme="light"):(document.documentElement.classList.add("dark"),svgDark.classList.add("hidden"),svgLight.classList.remove("hidden"),localStorage.theme="dark")}</script><div class="bottom-0 absolute w-full h-10"><footer class="text-slate-700 dark:text-slate-200 text-xs leading-normal flex flex-wrap justify-between mx-auto max-w-2xl px-4"><div class="w-full my-4"><p>Build with &#9829; in
<strong>Bandung</strong></p></div><div class="w-full sm:w-1/2"><nav><ul class="flex sm:justify-end -mx-2"></ul></nav></div></footer></div></div></body></html>